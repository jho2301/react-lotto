{"ast":null,"code":"import _slicedToArray from\"/home/jho2301/wooteco/lv2/lotto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/home/jho2301/wooteco/lv2/lotto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jho2301/wooteco/lv2/lotto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jho2301/wooteco/lv2/lotto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jho2301/wooteco/lv2/lotto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Modal from'../common/Modal';import Button from'../common/Button';import{Wrapper}from'../common/Wrapper';import{ResultModalWrapper,ResultTable}from'./ResultModal.styles';import ResultTableRow from'./ResultTableRow/ResultTableRow';import{getTotalProfit,getWinnerCounts}from'../../services/game';import TICKET from'../../constants/ticket';import{MATCH,PRIZE,RANK_INDEX}from'../../constants/game';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ResultModal=/*#__PURE__*/function(_Component){_inherits(ResultModal,_Component);var _super=_createSuper(ResultModal);function ResultModal(){_classCallCheck(this,ResultModal);return _super.apply(this,arguments);}_createClass(ResultModal,[{key:\"componentDidMount\",value:function componentDidMount(){this.computeResult();}},{key:\"computeResult\",value:function computeResult(){var _this$props=this.props,tickets=_this$props.tickets,winningNumber=_this$props.winningNumber;var payment=tickets.length*TICKET.PRICE;var winnerCounts=getWinnerCounts(tickets,winningNumber);var profit=getTotalProfit(payment,winnerCounts);return[winnerCounts,profit];}},{key:\"render\",value:function render(){var _this$computeResult=this.computeResult(),_this$computeResult2=_slicedToArray(_this$computeResult,2),_this$computeResult2$=_slicedToArray(_this$computeResult2[0],5),firstWinnerCount=_this$computeResult2$[0],secondWinnerCount=_this$computeResult2$[1],thirdWinnerCount=_this$computeResult2$[2],fourthWinnerCount=_this$computeResult2$[3],fifthWinnerCount=_this$computeResult2$[4],profit=_this$computeResult2[1];return/*#__PURE__*/_jsx(Modal,{handleModalClose:this.props.handleModalClose,children:/*#__PURE__*/_jsxs(ResultModalWrapper,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"result-header\",children:\"\\uD83C\\uDFC6 \\uB2F9\\uCCA8 \\uD1B5\\uACC4 \\uD83C\\uDFC6\"}),/*#__PURE__*/_jsx(Wrapper,{display:\"flex\",children:/*#__PURE__*/_jsxs(ResultTable,{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC77C\\uCE58 \\uAC2F\\uC218\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uB2F9\\uCCA8\\uAE08\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uB2F9\\uCCA8 \\uAC2F\\uC218\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(ResultTableRow,{match:MATCH[RANK_INDEX.FIFTH],prize:PRIZE[RANK_INDEX.FIFTH],matchCount:fifthWinnerCount}),/*#__PURE__*/_jsx(ResultTableRow,{match:MATCH[RANK_INDEX.FOURTH],prize:PRIZE[RANK_INDEX.FOURTH],matchCount:fourthWinnerCount}),/*#__PURE__*/_jsx(ResultTableRow,{match:MATCH[RANK_INDEX.THIRD],prize:PRIZE[RANK_INDEX.THIRD],matchCount:thirdWinnerCount}),/*#__PURE__*/_jsx(ResultTableRow,{isBonus:true,match:MATCH[RANK_INDEX.SECOND],prize:PRIZE[RANK_INDEX.SECOND],matchCount:secondWinnerCount}),/*#__PURE__*/_jsx(ResultTableRow,{match:MATCH[RANK_INDEX.FIRST],prize:PRIZE[RANK_INDEX.FIRST],matchCount:firstWinnerCount})]})]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"profit\",children:[\"\\uC218\\uC775\\uB960\\uC740 \",profit,\"% \\uC785\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsx(Wrapper,{display:\"flex\",children:/*#__PURE__*/_jsx(Button,{type:\"reset\",fullWidth:true,onClick:this.props.resetGame,children:\"\\uB2E4\\uC2DC \\uC2DC\\uC791\\uD558\\uAE30\"})})]})});}}]);return ResultModal;}(Component);export{ResultModal as default};","map":{"version":3,"sources":["/home/jho2301/wooteco/lv2/lotto/src/components/ResultModal/ResultModal.tsx"],"names":["React","Component","Modal","Button","Wrapper","ResultModalWrapper","ResultTable","ResultTableRow","getTotalProfit","getWinnerCounts","TICKET","MATCH","PRIZE","RANK_INDEX","ResultModal","computeResult","props","tickets","winningNumber","payment","length","PRICE","winnerCounts","profit","firstWinnerCount","secondWinnerCount","thirdWinnerCount","fourthWinnerCount","fifthWinnerCount","handleModalClose","FIFTH","FOURTH","THIRD","SECOND","FIRST","resetGame"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Modal from '../common/Modal';\nimport Button from '../common/Button';\nimport { Wrapper } from '../common/Wrapper';\nimport { ResultModalWrapper, ResultTable } from './ResultModal.styles';\nimport ResultTableRow from './ResultTableRow/ResultTableRow';\nimport { getTotalProfit, getWinnerCounts } from '../../services/game';\nimport TICKET from '../../constants/ticket';\nimport { MATCH, PRIZE, RANK_INDEX } from '../../constants/game';\n\ntype Props = {\n  handleModalClose: () => void;\n  resetGame: () => void;\n  tickets: Ticket[];\n  winningNumber: WinningNumber;\n};\n\nexport default class ResultModal extends Component<Props> {\n  componentDidMount() {\n    this.computeResult();\n  }\n\n  computeResult(): [number[], number] {\n    const { tickets, winningNumber } = this.props;\n    const payment = tickets.length * TICKET.PRICE;\n    const winnerCounts = getWinnerCounts(tickets, winningNumber);\n    const profit = getTotalProfit(payment, winnerCounts);\n\n    return [winnerCounts, profit];\n  }\n\n  render() {\n    const [\n      [firstWinnerCount, secondWinnerCount, thirdWinnerCount, fourthWinnerCount, fifthWinnerCount],\n      profit,\n    ] = this.computeResult();\n\n    return (\n      <Modal handleModalClose={this.props.handleModalClose}>\n        <ResultModalWrapper>\n          <h2 className=\"result-header\">🏆 당첨 통계 🏆</h2>\n          <Wrapper display=\"flex\">\n            <ResultTable>\n              <thead>\n                <tr>\n                  <th>일치 갯수</th>\n                  <th>당첨금</th>\n                  <th>당첨 갯수</th>\n                </tr>\n              </thead>\n              <tbody>\n                <ResultTableRow\n                  match={MATCH[RANK_INDEX.FIFTH]}\n                  prize={PRIZE[RANK_INDEX.FIFTH]}\n                  matchCount={fifthWinnerCount}\n                />\n                <ResultTableRow\n                  match={MATCH[RANK_INDEX.FOURTH]}\n                  prize={PRIZE[RANK_INDEX.FOURTH]}\n                  matchCount={fourthWinnerCount}\n                />\n                <ResultTableRow\n                  match={MATCH[RANK_INDEX.THIRD]}\n                  prize={PRIZE[RANK_INDEX.THIRD]}\n                  matchCount={thirdWinnerCount}\n                />\n                <ResultTableRow\n                  isBonus\n                  match={MATCH[RANK_INDEX.SECOND]}\n                  prize={PRIZE[RANK_INDEX.SECOND]}\n                  matchCount={secondWinnerCount}\n                />\n                <ResultTableRow\n                  match={MATCH[RANK_INDEX.FIRST]}\n                  prize={PRIZE[RANK_INDEX.FIRST]}\n                  matchCount={firstWinnerCount}\n                />\n              </tbody>\n            </ResultTable>\n          </Wrapper>\n          <p className=\"profit\">수익률은 {profit}% 입니다.</p>\n          <Wrapper display=\"flex\">\n            <Button type=\"reset\" fullWidth onClick={this.props.resetGame}>\n              다시 시작하기\n            </Button>\n          </Wrapper>\n        </ResultModalWrapper>\n      </Modal>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
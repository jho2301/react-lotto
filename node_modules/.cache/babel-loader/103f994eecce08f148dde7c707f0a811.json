{"ast":null,"code":"import _slicedToArray from\"/home/jho2301/wooteco/lv2/lotto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/home/jho2301/wooteco/lv2/lotto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jho2301/wooteco/lv2/lotto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jho2301/wooteco/lv2/lotto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jho2301/wooteco/lv2/lotto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Modal from'../common/Modal';import Button from'../common/Button';import{Wrapper}from'../common/Wrapper';import{ResultModalWrapper,ResultTable}from'./ResultModal.styles';import ResultTableRow from'./ResultTableRow/ResultTableRow';import{getTotalProfit,getWinnerCounts}from'../../services/game';import TICKET from'../../constants/ticket';import{MATCH,PRIZE,RANK_INDEX}from'../../constants/game';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ResultModal=/*#__PURE__*/function(_Component){_inherits(ResultModal,_Component);var _super=_createSuper(ResultModal);function ResultModal(){_classCallCheck(this,ResultModal);return _super.apply(this,arguments);}_createClass(ResultModal,[{key:\"componentDidMount\",value:function componentDidMount(){this.computeResult();}},{key:\"computeResult\",value:function computeResult(){var _this$props=this.props,tickets=_this$props.tickets,winningNumber=_this$props.winningNumber;var payment=tickets.length*TICKET.PRICE;var winnerCounts=getWinnerCounts(tickets,winningNumber);var profit=getTotalProfit(payment,winnerCounts);return{winnerCounts:winnerCounts,profit:profit};}},{key:\"render\",value:function render(){var _this$props2=this.props,handleModalClose=_this$props2.handleModalClose,resetGame=_this$props2.resetGame;var _this$computeResult=this.computeResult(),_this$computeResult$w=_slicedToArray(_this$computeResult.winnerCounts,5),firstWinnerCount=_this$computeResult$w[0],secondWinnerCount=_this$computeResult$w[1],thirdWinnerCount=_this$computeResult$w[2],fourthWinnerCount=_this$computeResult$w[3],fifthWinnerCount=_this$computeResult$w[4],profit=_this$computeResult.profit;return/*#__PURE__*/_jsx(Modal,{handleModalClose:handleModalClose,children:/*#__PURE__*/_jsxs(ResultModalWrapper,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"result-header\",children:\"\\uD83C\\uDFC6 \\uB2F9\\uCCA8 \\uD1B5\\uACC4 \\uD83C\\uDFC6\"}),/*#__PURE__*/_jsx(Wrapper,{display:\"flex\",children:/*#__PURE__*/_jsxs(ResultTable,{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC77C\\uCE58 \\uAC2F\\uC218\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uB2F9\\uCCA8\\uAE08\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uB2F9\\uCCA8 \\uAC2F\\uC218\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(ResultTableRow,{match:MATCH[RANK_INDEX.FIFTH],prize:PRIZE[RANK_INDEX.FIFTH],matchCount:fifthWinnerCount}),/*#__PURE__*/_jsx(ResultTableRow,{match:MATCH[RANK_INDEX.FOURTH],prize:PRIZE[RANK_INDEX.FOURTH],matchCount:fourthWinnerCount}),/*#__PURE__*/_jsx(ResultTableRow,{match:MATCH[RANK_INDEX.THIRD],prize:PRIZE[RANK_INDEX.THIRD],matchCount:thirdWinnerCount}),/*#__PURE__*/_jsx(ResultTableRow,{isBonus:true,match:MATCH[RANK_INDEX.SECOND],prize:PRIZE[RANK_INDEX.SECOND],matchCount:secondWinnerCount}),/*#__PURE__*/_jsx(ResultTableRow,{match:MATCH[RANK_INDEX.FIRST],prize:PRIZE[RANK_INDEX.FIRST],matchCount:firstWinnerCount})]})]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"profit\",children:[\"\\uC218\\uC775\\uB960\\uC740 \",profit,\"% \\uC785\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsx(Wrapper,{display:\"flex\",children:/*#__PURE__*/_jsx(Button,{type:\"reset\",fullWidth:true,onClick:resetGame,children:\"\\uB2E4\\uC2DC \\uC2DC\\uC791\\uD558\\uAE30\"})})]})});}}]);return ResultModal;}(Component);export{ResultModal as default};","map":{"version":3,"sources":["/home/jho2301/wooteco/lv2/lotto/src/components/ResultModal/ResultModal.tsx"],"names":["React","Component","Modal","Button","Wrapper","ResultModalWrapper","ResultTable","ResultTableRow","getTotalProfit","getWinnerCounts","TICKET","MATCH","PRIZE","RANK_INDEX","ResultModal","computeResult","props","tickets","winningNumber","payment","length","PRICE","winnerCounts","profit","handleModalClose","resetGame","firstWinnerCount","secondWinnerCount","thirdWinnerCount","fourthWinnerCount","fifthWinnerCount","FIFTH","FOURTH","THIRD","SECOND","FIRST"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Modal from '../common/Modal';\nimport Button from '../common/Button';\nimport { Wrapper } from '../common/Wrapper';\nimport { ResultModalWrapper, ResultTable } from './ResultModal.styles';\nimport ResultTableRow from './ResultTableRow/ResultTableRow';\nimport { getTotalProfit, getWinnerCounts } from '../../services/game';\nimport TICKET from '../../constants/ticket';\nimport { MATCH, PRIZE, RANK_INDEX } from '../../constants/game';\n\ntype Props = {\n  handleModalClose: () => void;\n  resetGame: () => void;\n  tickets: Ticket[];\n  winningNumber: WinningNumber;\n};\n\nexport default class ResultModal extends Component<Props> {\n  componentDidMount() {\n    this.computeResult();\n  }\n\n  computeResult(): { winnerCounts: number[]; profit: number } {\n    const { tickets, winningNumber } = this.props;\n    const payment = tickets.length * TICKET.PRICE;\n    const winnerCounts = getWinnerCounts(tickets, winningNumber);\n    const profit = getTotalProfit(payment, winnerCounts);\n\n    return { winnerCounts, profit };\n  }\n\n  render() {\n    const { handleModalClose, resetGame } = this.props;\n    const {\n      winnerCounts: [\n        firstWinnerCount,\n        secondWinnerCount,\n        thirdWinnerCount,\n        fourthWinnerCount,\n        fifthWinnerCount,\n      ],\n      profit,\n    } = this.computeResult();\n\n    return (\n      <Modal handleModalClose={handleModalClose}>\n        <ResultModalWrapper>\n          <h2 className=\"result-header\">🏆 당첨 통계 🏆</h2>\n          <Wrapper display=\"flex\">\n            <ResultTable>\n              <thead>\n                <tr>\n                  <th>일치 갯수</th>\n                  <th>당첨금</th>\n                  <th>당첨 갯수</th>\n                </tr>\n              </thead>\n              <tbody>\n                <ResultTableRow\n                  match={MATCH[RANK_INDEX.FIFTH]}\n                  prize={PRIZE[RANK_INDEX.FIFTH]}\n                  matchCount={fifthWinnerCount}\n                />\n                <ResultTableRow\n                  match={MATCH[RANK_INDEX.FOURTH]}\n                  prize={PRIZE[RANK_INDEX.FOURTH]}\n                  matchCount={fourthWinnerCount}\n                />\n                <ResultTableRow\n                  match={MATCH[RANK_INDEX.THIRD]}\n                  prize={PRIZE[RANK_INDEX.THIRD]}\n                  matchCount={thirdWinnerCount}\n                />\n                <ResultTableRow\n                  isBonus\n                  match={MATCH[RANK_INDEX.SECOND]}\n                  prize={PRIZE[RANK_INDEX.SECOND]}\n                  matchCount={secondWinnerCount}\n                />\n                <ResultTableRow\n                  match={MATCH[RANK_INDEX.FIRST]}\n                  prize={PRIZE[RANK_INDEX.FIRST]}\n                  matchCount={firstWinnerCount}\n                />\n              </tbody>\n            </ResultTable>\n          </Wrapper>\n          <p className=\"profit\">수익률은 {profit}% 입니다.</p>\n          <Wrapper display=\"flex\">\n            <Button type=\"reset\" fullWidth onClick={resetGame}>\n              다시 시작하기\n            </Button>\n          </Wrapper>\n        </ResultModalWrapper>\n      </Modal>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}